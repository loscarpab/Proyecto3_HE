## Inyección SQL
En el archivo insert_player.php, se comprueba que el campo username es inyectable, poniendo el caracter ".
![[Pasted image 20250127083200.png]]
Si intentas logearte salta el error:
![[Pasted image 20250127083400.png]]
Una vez sabemos donde está el campo vulnerable, tratamos de impersonar a un usuario, para ello se ha usado Burpsuite. Capturamos la petición de login
![[Pasted image 20250127085307.png]]
Y una vez ahí usamos el ataque Cluster bomb
![[Pasted image 20250127091052.png]]
El payload utilizado para el campo username es el siguiente (es una lista de ids)
![[Pasted image 20250127090101.png]]
El payload de contraseñas es uno con las más utilizadas
![[Pasted image 20250127090142.png]]
Una vez hecho el ataque se comprueba la longitud de la respuesta y en este caso si es más larga se intuye que es la combinación correcta
![[Pasted image 20250127091825.png]]
Probamos la combinación manualmente en la página
![[Pasted image 20250127092051.png]]
Y para comprobar el nombre del usuario, probamos a poner un comentario y así podemos verlo
![[Pasted image 20250127092424.png]]
y podemos ver nuestro comentario
![[Pasted image 20250127092607.png]]
Ya podemos ver el nombre del usuario con id 2 y contraseña 1234 que en este caso es luis.
## XSS
Para comprobar si se puede hacer ataques mediante xss vamos a una página la cual guarde texto introducido por el usuario, en este caso, la página add_comment.php que permite añadir comentarios
![[Pasted image 20250127101041.png]]
Para comprobar,  metemos un script con un alert en el campo de escribir el comentario.
![[Pasted image 20250127102214.png]]
Y podemos comprobar que ha funcionado.

## CSRF
a)
En la página de editar un jugador el campo del nombre del equipo, cambiamos el campo team name
![[Pasted image 20250128203827.png]]
Y así quedaría el nuevo enlace
![[Pasted image 20250128204058.png]]